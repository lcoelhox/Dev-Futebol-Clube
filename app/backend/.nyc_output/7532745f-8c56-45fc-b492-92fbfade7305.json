{"/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/app.ts":{"path":"/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/app.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":35}},"2":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"3":{"start":{"line":5,"column":22},"end":{"line":5,"column":53}},"4":{"start":{"line":6,"column":22},"end":{"line":6,"column":53}},"5":{"start":{"line":7,"column":24},"end":{"line":7,"column":57}},"6":{"start":{"line":10,"column":8},"end":{"line":10,"column":29}},"7":{"start":{"line":11,"column":8},"end":{"line":11,"column":22}},"8":{"start":{"line":13,"column":8},"end":{"line":13,"column":64}},"9":{"start":{"line":13,"column":40},"end":{"line":13,"column":62}},"10":{"start":{"line":14,"column":8},"end":{"line":14,"column":22}},"11":{"start":{"line":17,"column":30},"end":{"line":22,"column":9}},"12":{"start":{"line":18,"column":12},"end":{"line":18,"column":59}},"13":{"start":{"line":19,"column":12},"end":{"line":19,"column":92}},"14":{"start":{"line":20,"column":12},"end":{"line":20,"column":60}},"15":{"start":{"line":21,"column":12},"end":{"line":21,"column":19}},"16":{"start":{"line":23,"column":8},"end":{"line":23,"column":37}},"17":{"start":{"line":24,"column":8},"end":{"line":24,"column":36}},"18":{"start":{"line":27,"column":8},"end":{"line":27,"column":54}},"19":{"start":{"line":28,"column":8},"end":{"line":28,"column":54}},"20":{"start":{"line":29,"column":8},"end":{"line":29,"column":58}},"21":{"start":{"line":32,"column":8},"end":{"line":32,"column":76}},"22":{"start":{"line":32,"column":36},"end":{"line":32,"column":74}},"23":{"start":{"line":35,"column":0},"end":{"line":35,"column":18}},"24":{"start":{"line":37,"column":0},"end":{"line":37,"column":28}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":9,"column":4},"end":{"line":9,"column":5}},"loc":{"start":{"line":9,"column":18},"end":{"line":15,"column":5}},"line":9},"1":{"name":"(anonymous_1)","decl":{"start":{"line":13,"column":26},"end":{"line":13,"column":27}},"loc":{"start":{"line":13,"column":40},"end":{"line":13,"column":62}},"line":13},"2":{"name":"(anonymous_2)","decl":{"start":{"line":16,"column":4},"end":{"line":16,"column":5}},"loc":{"start":{"line":16,"column":13},"end":{"line":25,"column":5}},"line":16},"3":{"name":"(anonymous_3)","decl":{"start":{"line":17,"column":30},"end":{"line":17,"column":31}},"loc":{"start":{"line":17,"column":51},"end":{"line":22,"column":9}},"line":17},"4":{"name":"(anonymous_4)","decl":{"start":{"line":26,"column":4},"end":{"line":26,"column":5}},"loc":{"start":{"line":26,"column":13},"end":{"line":30,"column":5}},"line":26},"5":{"name":"(anonymous_5)","decl":{"start":{"line":31,"column":4},"end":{"line":31,"column":5}},"loc":{"start":{"line":31,"column":16},"end":{"line":33,"column":5}},"line":31},"6":{"name":"(anonymous_6)","decl":{"start":{"line":32,"column":30},"end":{"line":32,"column":31}},"loc":{"start":{"line":32,"column":36},"end":{"line":32,"column":74}},"line":32}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":2,"7":2,"8":2,"9":0,"10":2,"11":2,"12":17,"13":17,"14":17,"15":17,"16":2,"17":2,"18":2,"19":2,"20":2,"21":0,"22":0,"23":1,"24":1},"f":{"0":2,"1":0,"2":2,"3":17,"4":2,"5":0,"6":0},"b":{},"inputSourceMap":{"version":3,"file":"/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/app.ts","sources":["/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/app.ts"],"names":[],"mappings":";;;AAAA,mCAAmC;AACnC,sDAA+C;AAC/C,sDAA+C;AAC/C,0DAAmD;AAEnD,MAAM,GAAG;IAGP;QACE,IAAI,CAAC,GAAG,GAAG,OAAO,EAAE,CAAC;QAErB,IAAI,CAAC,MAAM,EAAE,CAAC;QAEd,wBAAwB;QACxB,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,EAAE,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;QACxD,IAAI,CAAC,MAAM,EAAE,CAAC;IAChB,CAAC;IAEO,MAAM;QACZ,MAAM,aAAa,GAA2B,CAAC,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE;YAChE,GAAG,CAAC,MAAM,CAAC,6BAA6B,EAAE,GAAG,CAAC,CAAC;YAC/C,GAAG,CAAC,MAAM,CAAC,8BAA8B,EAAE,mCAAmC,CAAC,CAAC;YAChF,GAAG,CAAC,MAAM,CAAC,8BAA8B,EAAE,GAAG,CAAC,CAAC;YAChD,IAAI,EAAE,CAAC;QACT,CAAC,CAAC;QAEF,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,CAAC;QAC7B,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;IAC9B,CAAC;IAEM,MAAM;QACX,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,QAAQ,EAAE,qBAAW,CAAC,CAAC;QACpC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,QAAQ,EAAE,qBAAW,CAAC,CAAC;QACpC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,UAAU,EAAE,uBAAa,CAAC,CAAC;IAC1C,CAAC;IAEM,KAAK,CAAC,IAAqB;QAChC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,mBAAmB,IAAI,EAAE,CAAC,CAAC,CAAC;IACtE,CAAC;CACF;AAEQ,kBAAG;AAEZ,2FAA2F;AAC5E,WAAG,GAAK,IAAI,GAAG,EAAE,KAAC","sourcesContent":["import * as express from 'express';\nimport loginRouter from './routes/login.route';\nimport teamsRouter from './routes/teams.route';\nimport macthesRouter from './routes/macthes.route';\n\nclass App {\n  public app: express.Express;\n\n  constructor() {\n    this.app = express();\n\n    this.config();\n\n    // Não remover essa rota\n    this.app.get('/', (req, res) => res.json({ ok: true }));\n    this.routes();\n  }\n\n  private config():void {\n    const accessControl: express.RequestHandler = (_req, res, next) => {\n      res.header('Access-Control-Allow-Origin', '*');\n      res.header('Access-Control-Allow-Methods', 'GET,POST,DELETE,OPTIONS,PUT,PATCH');\n      res.header('Access-Control-Allow-Headers', '*');\n      next();\n    };\n\n    this.app.use(express.json());\n    this.app.use(accessControl);\n  }\n\n  public routes(): void {\n    this.app.use('/login', loginRouter);\n    this.app.use('/teams', teamsRouter);\n    this.app.use('/matches', macthesRouter);\n  }\n\n  public start(PORT: string | number):void {\n    this.app.listen(PORT, () => console.log(`Running on port ${PORT}`));\n  }\n}\n\nexport { App };\n\n// Essa segunda exportação é estratégica, e a execução dos testes de cobertura depende dela\nexport const { app } = new App();\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2d14c0d678d8d26d730484246a3130ed0b811a8a"},"/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/routes/login.route.ts":{"path":"/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/routes/login.route.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":16},"end":{"line":3,"column":34}},"2":{"start":{"line":4,"column":27},"end":{"line":4,"column":69}},"3":{"start":{"line":5,"column":25},"end":{"line":5,"column":65}},"4":{"start":{"line":6,"column":15},"end":{"line":6,"column":31}},"5":{"start":{"line":7,"column":22},"end":{"line":7,"column":52}},"6":{"start":{"line":8,"column":24},"end":{"line":8,"column":56}},"7":{"start":{"line":9,"column":0},"end":{"line":9,"column":110}},"8":{"start":{"line":10,"column":0},"end":{"line":10,"column":82}},"9":{"start":{"line":11,"column":0},"end":{"line":11,"column":25}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/routes/login.route.ts","sources":["/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/routes/login.route.ts"],"names":[],"mappings":";;AAAA,mCAAmC;AACnC,sEAA8D;AAC9D,kEAA0D;AAE1D,MAAM,MAAM,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC;AAChC,MAAM,aAAa,GAAG,IAAI,wBAAa,EAAE,CAAC;AAC1C,MAAM,eAAe,GAAG,IAAI,0BAAe,EAAE,CAAC;AAE9C,MAAM,CAAC,IAAI,CACT,GAAG,EACH,aAAa,CAAC,iBAAiB,EAC/B,aAAa,CAAC,qBAAqB,EACnC,eAAe,CAAC,KAAK,CACtB,CAAC;AAEF,MAAM,CAAC,GAAG,CACR,WAAW,EACX,aAAa,CAAC,aAAa,EAC3B,eAAe,CAAC,WAAW,CAC5B,CAAC;AAEF,kBAAe,MAAM,CAAC","sourcesContent":["import * as express from 'express';\nimport LoginController from '../controllers/login.controller';\nimport ValidateLogin from '../middlewares/login.validate';\n\nconst router = express.Router();\nconst validateLogin = new ValidateLogin();\nconst loginController = new LoginController();\n\nrouter.post(\n  '/',\n  validateLogin.validateLoginUser,\n  validateLogin.validatePasswordEmail,\n  loginController.login,\n);\n\nrouter.get(\n  '/validate',\n  validateLogin.validateToken,\n  loginController.getUserType,\n);\n\nexport default router;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"db3a5e146e3eaff4050ae409c25c0b52100f6e72"},"/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/controllers/login.controller.ts":{"path":"/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/controllers/login.controller.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":14},"end":{"line":3,"column":36}},"2":{"start":{"line":6,"column":8},"end":{"line":9,"column":10}},"3":{"start":{"line":7,"column":29},"end":{"line":7,"column":37}},"4":{"start":{"line":8,"column":12},"end":{"line":8,"column":86}},"5":{"start":{"line":10,"column":8},"end":{"line":16,"column":10}},"6":{"start":{"line":11,"column":61},"end":{"line":11,"column":64}},"7":{"start":{"line":14,"column":39},"end":{"line":14,"column":79}},"8":{"start":{"line":15,"column":12},"end":{"line":15,"column":50}},"9":{"start":{"line":17,"column":8},"end":{"line":17,"column":44}},"10":{"start":{"line":20,"column":0},"end":{"line":20,"column":24}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":18},"end":{"line":18,"column":5}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":6,"column":21},"end":{"line":6,"column":22}},"loc":{"start":{"line":6,"column":41},"end":{"line":9,"column":9}},"line":6},"2":{"name":"(anonymous_2)","decl":{"start":{"line":10,"column":27},"end":{"line":10,"column":28}},"loc":{"start":{"line":10,"column":47},"end":{"line":16,"column":9}},"line":10}},"branchMap":{"0":{"loc":{"start":{"line":11,"column":29},"end":{"line":11,"column":56}},"type":"default-arg","locations":[{"start":{"line":11,"column":54},"end":{"line":11,"column":56}}],"line":11},"1":{"loc":{"start":{"line":11,"column":31},"end":{"line":11,"column":49}},"type":"default-arg","locations":[{"start":{"line":11,"column":47},"end":{"line":11,"column":49}}],"line":11}},"s":{"0":1,"1":1,"2":1,"3":4,"4":4,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1},"f":{"0":1,"1":4,"2":1},"b":{"0":[0],"1":[0]},"inputSourceMap":{"version":3,"file":"/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/controllers/login.controller.ts","sources":["/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/controllers/login.controller.ts"],"names":[],"mappings":";;AAEA,qCAAmC;AAEnC,MAAqB,KAAK;IAGxB;QAIO,UAAK,GAAG,KAAK,EAAE,GAAY,EAAE,GAAa,EAAE,EAAE;YACnD,MAAM,EAAE,IAAI,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;YAC1B,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QAC5E,CAAC,CAAC;QAEK,gBAAW,GAAG,KAAK,EAAE,GAAY,EAAE,GAAa,EAAE,EAAE;YACzD,MAAM,EAAE,OAAO,EAAE,EAAE,aAAa,GAAG,EAAE,EAAE,GAAG,EAAE,EAAE,GAAG,GAAG,CAAC;YACrD,yEAAyE;YACzE,oBAAoB;YACpB,MAAM,EAAE,IAAI,EAAE,EAAE,IAAI,EAAE,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,aAAa,CAAa,CAAC;YAEhF,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC;QACxC,CAAC,CAAC;QAfA,IAAI,CAAC,QAAQ,GAAG,IAAI,aAAQ,EAAE,CAAC;IACjC,CAAC;CAeF;AApBD,wBAoBC","sourcesContent":["import { Request, Response } from 'express';\nimport IUserJWT from '../interfaces/jwt.interfaces';\nimport JwtToken from '../auth/JWT';\n\nexport default class Login {\n  private jwtToken: JwtToken;\n\n  constructor() {\n    this.jwtToken = new JwtToken();\n  }\n\n  public login = async (req: Request, res: Response) => {\n    const { user } = req.body;\n    return res.status(200).json({ token: this.jwtToken.generateToken(user) });\n  };\n\n  public getUserType = async (req: Request, res: Response) => {\n    const { headers: { authorization = '' } = {} } = req;\n    // const { data } = this.jwtToken.verifyToken(authorization) as IUserJWT;\n    // console.log(data)\n    const { data: { role } } = this.jwtToken.verifyToken(authorization) as IUserJWT;\n\n    return res.status(200).json({ role });\n  };\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"5acdaf4dac9a8d7135a8968764ce0cc116034fba"},"/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/auth/JWT.ts":{"path":"/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/auth/JWT.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":15},"end":{"line":3,"column":32}},"2":{"start":{"line":4,"column":12},"end":{"line":4,"column":35}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":16}},"4":{"start":{"line":8,"column":8},"end":{"line":11,"column":10}},"5":{"start":{"line":9,"column":26},"end":{"line":9,"column":79}},"6":{"start":{"line":10,"column":12},"end":{"line":10,"column":25}},"7":{"start":{"line":12,"column":8},"end":{"line":21,"column":10}},"8":{"start":{"line":13,"column":12},"end":{"line":20,"column":13}},"9":{"start":{"line":14,"column":32},"end":{"line":14,"column":62}},"10":{"start":{"line":16,"column":16},"end":{"line":16,"column":31}},"11":{"start":{"line":19,"column":16},"end":{"line":19,"column":64}},"12":{"start":{"line":22,"column":8},"end":{"line":25,"column":10}},"13":{"start":{"line":26,"column":8},"end":{"line":26,"column":61}},"14":{"start":{"line":29,"column":0},"end":{"line":29,"column":27}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":4},"end":{"line":7,"column":5}},"loc":{"start":{"line":7,"column":18},"end":{"line":27,"column":5}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":29},"end":{"line":8,"column":30}},"loc":{"start":{"line":8,"column":39},"end":{"line":11,"column":9}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":12,"column":27},"end":{"line":12,"column":28}},"loc":{"start":{"line":12,"column":38},"end":{"line":21,"column":9}},"line":12}},"branchMap":{"0":{"loc":{"start":{"line":26,"column":22},"end":{"line":26,"column":60}},"type":"binary-expr","locations":[{"start":{"line":26,"column":22},"end":{"line":26,"column":44}},{"start":{"line":26,"column":48},"end":{"line":26,"column":60}}],"line":26}},"s":{"0":1,"1":1,"2":1,"3":1,"4":5,"5":6,"6":6,"7":5,"8":4,"9":4,"10":3,"11":1,"12":5,"13":5,"14":1},"f":{"0":5,"1":6,"2":4},"b":{"0":[5,0]},"inputSourceMap":{"version":3,"file":"/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/auth/JWT.ts","sources":["/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/auth/JWT.ts"],"names":[],"mappings":";;AAAA,iCAAiC;AACjC,oCAAoC;AAIpC,MAAM,CAAC,MAAM,EAAE,CAAC;AAEhB,MAAqB,QAAQ;IAG3B;QAQO,kBAAa,GAAG,CAAC,IAAW,EAAU,EAAE;YAC7C,MAAM,KAAK,GAAG,GAAG,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;YAEpE,OAAO,KAAK,CAAC;QACf,CAAC,CAAC;QAEK,gBAAW,GAAG,CAAC,KAAa,EAAU,EAAE;YAC7C,IAAI;gBACF,MAAM,OAAO,GAAG,GAAG,CAAC,MAAM,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAa,CAAC;gBAC3D,uBAAuB;gBACvB,OAAO,OAAO,CAAC;aAChB;YAAC,OAAO,KAAK,EAAE;gBACd,OAAO,EAAE,KAAK,EAAE,6BAA6B,EAAc,CAAC;aAC7D;QACH,CAAC,CAAC;QArBA,IAAI,CAAC,SAAS,GAAG;YACf,SAAS,EAAE,OAAO;YAClB,SAAS,EAAE,IAAI;SAChB,CAAC;QACF,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC,UAAU,IAAI,YAAY,CAAC;IACvD,CAAC;CAiBF;AA1BD,2BA0BC","sourcesContent":["import * as dotenv from 'dotenv';\nimport * as jwt from 'jsonwebtoken';\nimport { IUser } from '../interfaces/users.interface';\nimport IUserJWT from '../interfaces/jwt.interfaces';\n\ndotenv.config();\n\nexport default class JwtToken {\n  private jwtConfig: object;\n  private secret: string;\n  constructor() {\n    this.jwtConfig = {\n      algorithm: 'HS256',\n      expiresIn: '7h',\n    };\n    this.secret = process.env.JWT_SECRET || 'jwt_secret';\n  }\n\n  public generateToken = (user: IUser): string => {\n    const token = jwt.sign({ data: user }, this.secret, this.jwtConfig);\n\n    return token;\n  };\n\n  public verifyToken = (token: string): object => {\n    try {\n      const payload = jwt.verify(token, this.secret) as IUserJWT;\n      // console.log(payload)\n      return payload;\n    } catch (error) {\n      return { error: 'Token must be a valid token' } as IUserJWT;\n    }\n  };\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"cc19031cab873bce7e5299b015e6c37654ae4e8d"},"/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/middlewares/login.validate.ts":{"path":"/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/middlewares/login.validate.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":23},"end":{"line":3,"column":58}},"2":{"start":{"line":4,"column":17},"end":{"line":4,"column":44}},"3":{"start":{"line":5,"column":14},"end":{"line":5,"column":36}},"4":{"start":{"line":8,"column":8},"end":{"line":22,"column":10}},"5":{"start":{"line":10,"column":40},"end":{"line":10,"column":48}},"6":{"start":{"line":11,"column":12},"end":{"line":13,"column":13}},"7":{"start":{"line":12,"column":16},"end":{"line":12,"column":86}},"8":{"start":{"line":14,"column":25},"end":{"line":14,"column":69}},"9":{"start":{"line":16,"column":37},"end":{"line":16,"column":181}},"10":{"start":{"line":17,"column":12},"end":{"line":19,"column":13}},"11":{"start":{"line":18,"column":16},"end":{"line":18,"column":88}},"12":{"start":{"line":20,"column":12},"end":{"line":20,"column":33}},"13":{"start":{"line":21,"column":12},"end":{"line":21,"column":26}},"14":{"start":{"line":23,"column":8},"end":{"line":29,"column":10}},"15":{"start":{"line":24,"column":40},"end":{"line":24,"column":48}},"16":{"start":{"line":25,"column":12},"end":{"line":27,"column":13}},"17":{"start":{"line":26,"column":16},"end":{"line":26,"column":86}},"18":{"start":{"line":28,"column":12},"end":{"line":28,"column":26}},"19":{"start":{"line":30,"column":8},"end":{"line":40,"column":10}},"20":{"start":{"line":31,"column":38},"end":{"line":31,"column":49}},"21":{"start":{"line":32,"column":12},"end":{"line":34,"column":13}},"22":{"start":{"line":33,"column":16},"end":{"line":33,"column":90}},"23":{"start":{"line":35,"column":29},"end":{"line":35,"column":69}},"24":{"start":{"line":36,"column":12},"end":{"line":38,"column":13}},"25":{"start":{"line":37,"column":16},"end":{"line":37,"column":73}},"26":{"start":{"line":39,"column":12},"end":{"line":39,"column":26}},"27":{"start":{"line":41,"column":8},"end":{"line":41,"column":44}},"28":{"start":{"line":42,"column":8},"end":{"line":42,"column":56}},"29":{"start":{"line":43,"column":8},"end":{"line":43,"column":45}},"30":{"start":{"line":46,"column":0},"end":{"line":46,"column":32}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":4},"end":{"line":7,"column":5}},"loc":{"start":{"line":7,"column":18},"end":{"line":44,"column":5}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":33},"end":{"line":8,"column":34}},"loc":{"start":{"line":8,"column":59},"end":{"line":22,"column":9}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":23,"column":37},"end":{"line":23,"column":38}},"loc":{"start":{"line":23,"column":57},"end":{"line":29,"column":9}},"line":23},"3":{"name":"(anonymous_3)","decl":{"start":{"line":30,"column":29},"end":{"line":30,"column":30}},"loc":{"start":{"line":30,"column":49},"end":{"line":40,"column":9}},"line":30}},"branchMap":{"0":{"loc":{"start":{"line":11,"column":12},"end":{"line":13,"column":13}},"type":"if","locations":[{"start":{"line":11,"column":12},"end":{"line":13,"column":13}},{"start":{"line":11,"column":12},"end":{"line":13,"column":13}}],"line":11},"1":{"loc":{"start":{"line":11,"column":16},"end":{"line":11,"column":35}},"type":"binary-expr","locations":[{"start":{"line":11,"column":16},"end":{"line":11,"column":22}},{"start":{"line":11,"column":26},"end":{"line":11,"column":35}}],"line":11},"2":{"loc":{"start":{"line":16,"column":76},"end":{"line":16,"column":180}},"type":"cond-expr","locations":[{"start":{"line":16,"column":169},"end":{"line":16,"column":171}},{"start":{"line":16,"column":174},"end":{"line":16,"column":180}}],"line":16},"3":{"loc":{"start":{"line":16,"column":76},"end":{"line":16,"column":166}},"type":"binary-expr","locations":[{"start":{"line":16,"column":76},"end":{"line":16,"column":149}},{"start":{"line":16,"column":153},"end":{"line":16,"column":166}}],"line":16},"4":{"loc":{"start":{"line":16,"column":82},"end":{"line":16,"column":139}},"type":"cond-expr","locations":[{"start":{"line":16,"column":117},"end":{"line":16,"column":123}},{"start":{"line":16,"column":126},"end":{"line":16,"column":139}}],"line":16},"5":{"loc":{"start":{"line":16,"column":82},"end":{"line":16,"column":114}},"type":"binary-expr","locations":[{"start":{"line":16,"column":82},"end":{"line":16,"column":95}},{"start":{"line":16,"column":99},"end":{"line":16,"column":114}}],"line":16},"6":{"loc":{"start":{"line":17,"column":12},"end":{"line":19,"column":13}},"type":"if","locations":[{"start":{"line":17,"column":12},"end":{"line":19,"column":13}},{"start":{"line":17,"column":12},"end":{"line":19,"column":13}}],"line":17},"7":{"loc":{"start":{"line":17,"column":16},"end":{"line":17,"column":42}},"type":"binary-expr","locations":[{"start":{"line":17,"column":16},"end":{"line":17,"column":21}},{"start":{"line":17,"column":25},"end":{"line":17,"column":42}}],"line":17},"8":{"loc":{"start":{"line":25,"column":12},"end":{"line":27,"column":13}},"type":"if","locations":[{"start":{"line":25,"column":12},"end":{"line":27,"column":13}},{"start":{"line":25,"column":12},"end":{"line":27,"column":13}}],"line":25},"9":{"loc":{"start":{"line":25,"column":16},"end":{"line":25,"column":35}},"type":"binary-expr","locations":[{"start":{"line":25,"column":16},"end":{"line":25,"column":22}},{"start":{"line":25,"column":26},"end":{"line":25,"column":35}}],"line":25},"10":{"loc":{"start":{"line":32,"column":12},"end":{"line":34,"column":13}},"type":"if","locations":[{"start":{"line":32,"column":12},"end":{"line":34,"column":13}},{"start":{"line":32,"column":12},"end":{"line":34,"column":13}}],"line":32},"11":{"loc":{"start":{"line":36,"column":12},"end":{"line":38,"column":13}},"type":"if","locations":[{"start":{"line":36,"column":12},"end":{"line":38,"column":13}},{"start":{"line":36,"column":12},"end":{"line":38,"column":13}}],"line":36}},"s":{"0":1,"1":1,"2":1,"3":1,"4":2,"5":7,"6":7,"7":1,"8":6,"9":6,"10":6,"11":2,"12":4,"13":4,"14":2,"15":4,"16":4,"17":0,"18":4,"19":2,"20":3,"21":3,"22":0,"23":3,"24":3,"25":1,"26":2,"27":2,"28":2,"29":2,"30":1},"f":{"0":2,"1":7,"2":4,"3":3},"b":{"0":[1,6],"1":[7,7],"2":[5,1],"3":[6,6],"4":[1,5],"5":[6,5],"6":[2,4],"7":[6,5],"8":[0,4],"9":[4,4],"10":[0,3],"11":[1,2]},"inputSourceMap":{"version":3,"file":"/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/middlewares/login.validate.ts","sources":["/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/middlewares/login.validate.ts"],"names":[],"mappings":";;AACA,2DAAmD;AACnD,6CAAsC;AAEtC,qCAAmC;AAGnC,MAAqB,aAAa;IAKhC;QAMO,sBAAiB,GAAG,KAAK,EAAE,GAAY,EAAE,GAAa,EAAE,IAAkB,EAAE,EAAE;;YACnF,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;YAErC,IAAI,CAAC,KAAK,IAAI,CAAC,QAAQ,EAAE;gBACvB,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,2BAA2B,EAAE,CAAC,CAAC;aACvE;YAED,MAAM,IAAI,GAAiB,MAAM,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,KAAK,CAAU,CAAC;YACjF,qBAAqB;YACrB,MAAM,gBAAgB,GAAG,MAAM,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,QAAQ,EAAE,MAAA,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,QAAQ,mCAAI,MAAM,CAAC,CAAC;YAC1F,IAAI,CAAC,IAAI,IAAI,CAAC,gBAAgB,EAAE;gBAC9B,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,6BAA6B,EAAE,CAAC,CAAC;aACzE;YAED,GAAG,CAAC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YAErB,OAAO,IAAI,EAAE,CAAC;QAChB,CAAC,CAAC;QAEK,0BAAqB,GAAG,CAAC,GAAY,EAAE,GAAa,EAAE,IAAkB,EAAE,EAAE;YACjF,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;YAErC,IAAI,CAAC,KAAK,IAAI,CAAC,QAAQ,EAAE;gBACvB,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,2BAA2B,EAAE,CAAC,CAAC;aACvE;YAED,OAAO,IAAI,EAAE,CAAC;QAChB,CAAC,CAAC;QAEK,kBAAa,GAAG,CAAC,GAAY,EAAE,GAAa,EAAE,IAAkB,EAAE,EAAE;YACzE,MAAM,EAAE,aAAa,EAAE,GAAG,GAAG,CAAC,OAAO,CAAC;YAEtC,IAAI,CAAC,aAAa,EAAE;gBAClB,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,+BAA+B,EAAE,CAAC,CAAC;aAC3E;YAED,MAAM,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,aAAa,CAAoB,CAAC;YAC7E,IAAI,QAAQ,CAAC,KAAK,EAAE;gBAClB,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,QAAQ,CAAC,KAAK,EAAE,CAAC,CAAC;aAC1D;YAED,OAAO,IAAI,EAAE,CAAC;QAChB,CAAC,CAAC;QA/CA,IAAI,CAAC,QAAQ,GAAG,IAAI,aAAQ,EAAE,CAAC;QAC/B,IAAI,CAAC,WAAW,GAAG,IAAI,sBAAW,EAAE,CAAC;QACrC,IAAI,CAAC,MAAM,GAAG,IAAI,gBAAM,EAAE,CAAC;IAC7B,CAAC;CA6CF;AAtDD,gCAsDC","sourcesContent":["import { Request, Response, NextFunction } from 'express';\nimport UserService from '../services/user.service';\nimport Bcript from '../bcript/bcript';\nimport { IUser } from '../interfaces/users.interface';\nimport JwtToken from '../auth/JWT';\nimport IPayloadUserJWT from '../interfaces/jwt.interfaces';\n\nexport default class ValidateLogin {\n  private jwtToken: JwtToken;\n  private userService: UserService;\n  private bcript: Bcript;\n\n  constructor() {\n    this.jwtToken = new JwtToken();\n    this.userService = new UserService();\n    this.bcript = new Bcript();\n  }\n\n  public validateLoginUser = async (req: Request, res: Response, next: NextFunction) => {\n    const { email, password } = req.body;\n\n    if (!email || !password) {\n      return res.status(400).json({ message: 'All fields must be filled' });\n    }\n\n    const user: IUser | null = await this.userService.getUserByEmail(email) as IUser;\n    // console.log(user);\n    const passwordValidate = await this.bcript.decrypting(password, user?.password ?? 'null');\n    if (!user || !passwordValidate) {\n      return res.status(401).json({ message: 'Incorrect email or password' });\n    }\n\n    req.body.user = user;\n\n    return next();\n  };\n\n  public validatePasswordEmail = (req: Request, res: Response, next: NextFunction) => {\n    const { email, password } = req.body;\n\n    if (!email || !password) {\n      return res.status(400).json({ message: 'All fields must be filled' });\n    }\n\n    return next();\n  };\n\n  public validateToken = (req: Request, res: Response, next: NextFunction) => {\n    const { authorization } = req.headers;\n\n    if (!authorization) {\n      return res.status(401).json({ message: 'authentication token required' });\n    }\n\n    const response = this.jwtToken.verifyToken(authorization) as IPayloadUserJWT;\n    if (response.error) {\n      return res.status(401).json({ message: response.error });\n    }\n\n    return next();\n  };\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"8b79bcc2b794d8465c6b5dfa002c0781fd6a86a8"},"/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/services/user.service.ts":{"path":"/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/services/user.service.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":16},"end":{"line":3,"column":51}},"2":{"start":{"line":6,"column":8},"end":{"line":9,"column":10}},"3":{"start":{"line":7,"column":25},"end":{"line":7,"column":76}},"4":{"start":{"line":8,"column":12},"end":{"line":8,"column":24}},"5":{"start":{"line":12,"column":0},"end":{"line":12,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":18},"end":{"line":10,"column":5}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":6,"column":30},"end":{"line":6,"column":31}},"loc":{"start":{"line":6,"column":47},"end":{"line":9,"column":9}},"line":6}},"branchMap":{},"s":{"0":1,"1":1,"2":2,"3":6,"4":6,"5":1},"f":{"0":2,"1":6},"b":{},"inputSourceMap":{"version":3,"file":"/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/services/user.service.ts","sources":["/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/services/user.service.ts"],"names":[],"mappings":";;AAAA,oDAA4C;AAG5C,MAAqB,WAAW;IAAhC;QACS,mBAAc,GAAG,KAAK,EAAE,KAAa,EAAyB,EAAE;YACrE,MAAM,IAAI,GAAiB,MAAM,eAAI,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC;YAEpE,OAAO,IAAI,CAAC;QACd,CAAC,CAAC;IACJ,CAAC;CAAA;AAND,8BAMC","sourcesContent":["import User from '../database/models/Users';\nimport { IUser } from '../interfaces/users.interface';\n\nexport default class UserService {\n  public getUserByEmail = async (email: string): Promise<IUser | null> => {\n    const user: IUser | null = await User.findOne({ where: { email } });\n\n    return user;\n  };\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"a5e1c3b9ace65c925cd568a72af105542a3fd309"},"/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/database/models/Users.ts":{"path":"/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/database/models/Users.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":20},"end":{"line":3,"column":40}},"2":{"start":{"line":4,"column":11},"end":{"line":4,"column":23}},"3":{"start":{"line":7,"column":0},"end":{"line":36,"column":3}},"4":{"start":{"line":37,"column":0},"end":{"line":37,"column":24}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/database/models/Users.ts","sources":["/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/database/models/Users.ts"],"names":[],"mappings":";;AAAA,yCAAmD;AACnD,wBAAmB;AAEnB,MAAM,KAAM,SAAQ,iBAAK;CAMxB;AAED,KAAK,CAAC,IAAI,CAAC;IACT,EAAE,EAAE;QACF,IAAI,EAAE,mBAAO;QACb,UAAU,EAAE,IAAI;QAChB,SAAS,EAAE,KAAK;QAChB,aAAa,EAAE,IAAI;KACpB;IAED,QAAQ,EAAE;QACR,IAAI,EAAE,kBAAM;QACZ,SAAS,EAAE,KAAK;KACjB;IAED,IAAI,EAAE;QACJ,IAAI,EAAE,kBAAM;QACZ,SAAS,EAAE,KAAK;KACjB;IAED,KAAK,EAAE;QACL,IAAI,EAAE,kBAAM;QACZ,SAAS,EAAE,KAAK;QAChB,MAAM,EAAE,IAAI;KACb;IAED,QAAQ,EAAE;QACR,IAAI,EAAE,kBAAM;QACZ,SAAS,EAAE,KAAK;KACjB;CAEF,EAAE;IACD,SAAS,EAAE,OAAO;IAClB,UAAU,EAAE,KAAK;IACjB,WAAW,EAAE,IAAI;IACjB,SAAS,EAAE,UAAE;CACd,CAAC,CAAC;AAEH,kBAAe,KAAK,CAAC","sourcesContent":["import { Model, INTEGER, STRING } from 'sequelize';\nimport db from '.';\n\nclass Users extends Model {\n  declare id: number;\n  declare username: string;\n  declare role: string;\n  declare email: string;\n  declare password: string;\n}\n\nUsers.init({\n  id: {\n    type: INTEGER,\n    primaryKey: true,\n    allowNull: false,\n    autoIncrement: true,\n  },\n\n  username: {\n    type: STRING,\n    allowNull: false,\n  },\n\n  role: {\n    type: STRING,\n    allowNull: false,\n  },\n\n  email: {\n    type: STRING,\n    allowNull: false,\n    unique: true,\n  },\n\n  password: {\n    type: STRING,\n    allowNull: false,\n  },\n\n}, {\n  modelName: 'users',\n  timestamps: false,\n  underscored: true,\n  sequelize: db,\n});\n\nexport default Users;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b8d7a731de1c0a353895a5c703f4c1ce65ceb809"},"/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/database/models/index.ts":{"path":"/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/database/models/index.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":20},"end":{"line":3,"column":40}},"2":{"start":{"line":4,"column":15},"end":{"line":4,"column":44}},"3":{"start":{"line":5,"column":18},"end":{"line":5,"column":51}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":28}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/database/models/index.ts","sources":["/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/database/models/index.ts"],"names":[],"mappings":";;AAAA,yCAAsC;AACtC,6CAA6C;AAE7C,MAAM,SAAS,GAAG,IAAI,qBAAS,CAAC,MAAM,CAAC,CAAA;AAEvC,kBAAe,SAAS,CAAC","sourcesContent":["import { Sequelize } from 'sequelize';\nimport * as config from '../config/database';\n\nconst sequelize = new Sequelize(config)\n\nexport default sequelize;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b78314a1a6b87dbe22ff5cd74e190a4a202d9b13"},"/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/bcript/bcript.ts":{"path":"/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/bcript/bcript.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":15},"end":{"line":3,"column":34}},"2":{"start":{"line":6,"column":8},"end":{"line":9,"column":10}},"3":{"start":{"line":7,"column":29},"end":{"line":7,"column":77}},"4":{"start":{"line":8,"column":12},"end":{"line":8,"column":28}},"5":{"start":{"line":10,"column":8},"end":{"line":10,"column":25}},"6":{"start":{"line":13,"column":0},"end":{"line":13,"column":25}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":18},"end":{"line":11,"column":5}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":6,"column":26},"end":{"line":6,"column":27}},"loc":{"start":{"line":6,"column":64},"end":{"line":9,"column":9}},"line":6}},"branchMap":{},"s":{"0":1,"1":1,"2":2,"3":6,"4":6,"5":2,"6":1},"f":{"0":2,"1":6},"b":{},"inputSourceMap":{"version":3,"file":"/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/bcript/bcript.ts","sources":["/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/bcript/bcript.ts"],"names":[],"mappings":";;AAAA,mCAAmC;AAEnC,MAAqB,MAAM;IAGzB;QAIO,eAAU,GAAG,KAAK,EAAE,QAAgB,EAAE,gBAAwB,EAAoB,EAAE;YACzF,MAAM,QAAQ,GAAG,MAAM,MAAM,CAAC,OAAO,CAAC,QAAQ,EAAE,gBAAgB,CAAC,CAAC;YAElE,OAAO,QAAQ,CAAC;QAClB,CAAC,CAAC;QAPA,IAAI,CAAC,OAAO,GAAG,CAAC,CAAC;IACnB,CAAC;CAOF;AAZD,yBAYC","sourcesContent":["import * as bcript from 'bcryptjs';\n\nexport default class Bcript {\n  private encript: number;\n\n  constructor() {\n    this.encript = 8;\n  }\n\n  public decrypting = async (password: string, databasePassword: string): Promise<boolean> => {\n    const validate = await bcript.compare(password, databasePassword);\n\n    return validate;\n  };\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"35548252786fe3ba2246a7c6fd3f9e4eb6388b76"},"/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/routes/teams.route.ts":{"path":"/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/routes/teams.route.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":16},"end":{"line":3,"column":34}},"2":{"start":{"line":4,"column":27},"end":{"line":4,"column":69}},"3":{"start":{"line":5,"column":15},"end":{"line":5,"column":31}},"4":{"start":{"line":6,"column":24},"end":{"line":6,"column":56}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":40}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":44}},"7":{"start":{"line":9,"column":0},"end":{"line":9,"column":25}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/routes/teams.route.ts","sources":["/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/routes/teams.route.ts"],"names":[],"mappings":";;AAAA,mCAAmC;AACnC,sEAA8D;AAE9D,MAAM,MAAM,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC;AAEhC,MAAM,eAAe,GAAG,IAAI,0BAAe,EAAE,CAAC;AAE9C,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE,eAAe,CAAC,MAAM,CAAC,CAAC;AACxC,MAAM,CAAC,GAAG,CAAC,MAAM,EAAE,eAAe,CAAC,OAAO,CAAC,CAAC;AAE5C,kBAAe,MAAM,CAAC","sourcesContent":["import * as express from 'express';\nimport TeamsController from '../controllers/teams.controller';\n\nconst router = express.Router();\n\nconst teamsController = new TeamsController();\n\nrouter.get('/', teamsController.getAll);\nrouter.get('/:id', teamsController.getById);\n\nexport default router;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"40359b549f049699870589d7e288386012239603"},"/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/controllers/teams.controller.ts":{"path":"/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/controllers/teams.controller.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":24},"end":{"line":3,"column":60}},"2":{"start":{"line":6,"column":8},"end":{"line":9,"column":10}},"3":{"start":{"line":7,"column":26},"end":{"line":7,"column":63}},"4":{"start":{"line":8,"column":12},"end":{"line":8,"column":47}},"5":{"start":{"line":10,"column":8},"end":{"line":14,"column":10}},"6":{"start":{"line":11,"column":27},"end":{"line":11,"column":37}},"7":{"start":{"line":12,"column":25},"end":{"line":12,"column":73}},"8":{"start":{"line":13,"column":12},"end":{"line":13,"column":46}},"9":{"start":{"line":15,"column":8},"end":{"line":15,"column":58}},"10":{"start":{"line":18,"column":0},"end":{"line":18,"column":33}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":18},"end":{"line":16,"column":5}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":6,"column":22},"end":{"line":6,"column":23}},"loc":{"start":{"line":6,"column":43},"end":{"line":9,"column":9}},"line":6},"2":{"name":"(anonymous_2)","decl":{"start":{"line":10,"column":23},"end":{"line":10,"column":24}},"loc":{"start":{"line":10,"column":43},"end":{"line":14,"column":9}},"line":10}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1},"f":{"0":1,"1":1,"2":1},"b":{},"inputSourceMap":{"version":3,"file":"/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/controllers/teams.controller.ts","sources":["/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/controllers/teams.controller.ts"],"names":[],"mappings":";;AACA,6DAAqD;AAGrD,MAAqB,cAAc;IAGjC;QAIO,WAAM,GAAG,KAAK,EAAE,IAAa,EAAE,GAAa,EAAE,EAAE;YACrD,MAAM,KAAK,GAAa,MAAM,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE,CAAC;YAC9D,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACrC,CAAC,CAAC;QAEK,YAAO,GAAG,KAAK,EAAE,GAAY,EAAE,GAAa,EAAE,EAAE;YACrD,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC;YAC1B,MAAM,IAAI,GAAkB,MAAM,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC;YAC7E,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACpC,CAAC,CAAC;QAZA,IAAI,CAAC,YAAY,GAAG,IAAI,uBAAY,EAAE,CAAC;IACzC,CAAC;CAYF;AAjBD,iCAiBC","sourcesContent":["import { Request, Response } from 'express';\nimport TeamsService from '../services/teams.service';\nimport { ITeams } from '../interfaces/teams.interface';\n\nexport default class TeamController {\n  public teamsService: TeamsService;\n\n  constructor() {\n    this.teamsService = new TeamsService();\n  }\n\n  public getAll = async (_req: Request, res: Response) => {\n    const teams: ITeams[] = await this.teamsService.getAllTeams();\n    return res.status(200).json(teams);\n  };\n\n  public getById = async (req: Request, res: Response) => {\n    const { id } = req.params;\n    const team: ITeams | null = await this.teamsService.getTeamsById(Number(id));\n    return res.status(200).json(team);\n  };\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"5cd0a911c6d23b494dfdfe6216f9228bb0c4dce2"},"/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/services/teams.service.ts":{"path":"/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/services/teams.service.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":16},"end":{"line":3,"column":51}},"2":{"start":{"line":6,"column":8},"end":{"line":9,"column":10}},"3":{"start":{"line":7,"column":26},"end":{"line":7,"column":57}},"4":{"start":{"line":8,"column":12},"end":{"line":8,"column":25}},"5":{"start":{"line":10,"column":8},"end":{"line":13,"column":10}},"6":{"start":{"line":11,"column":25},"end":{"line":11,"column":59}},"7":{"start":{"line":12,"column":12},"end":{"line":12,"column":24}},"8":{"start":{"line":16,"column":0},"end":{"line":16,"column":31}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":18},"end":{"line":14,"column":5}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":6,"column":27},"end":{"line":6,"column":28}},"loc":{"start":{"line":6,"column":39},"end":{"line":9,"column":9}},"line":6},"2":{"name":"(anonymous_2)","decl":{"start":{"line":10,"column":28},"end":{"line":10,"column":29}},"loc":{"start":{"line":10,"column":42},"end":{"line":13,"column":9}},"line":10}},"branchMap":{},"s":{"0":1,"1":1,"2":2,"3":1,"4":1,"5":2,"6":7,"7":7,"8":1},"f":{"0":2,"1":1,"2":7},"b":{},"inputSourceMap":{"version":3,"file":"/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/services/teams.service.ts","sources":["/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/services/teams.service.ts"],"names":[],"mappings":";;AAAA,oDAA6C;AAG7C,MAAqB,YAAY;IAAjC;QACS,gBAAW,GAAG,KAAK,IAAuB,EAAE;YACjD,MAAM,KAAK,GAAG,MAAM,eAAK,CAAC,OAAO,EAAE,CAAC;YAEpC,OAAO,KAAK,CAAC;QACf,CAAC,CAAC;QAEK,iBAAY,GAAG,KAAK,EAAE,EAAU,EAA0B,EAAE;YACjE,MAAM,IAAI,GAAkB,MAAM,eAAK,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;YAErD,OAAO,IAAI,CAAC;QACd,CAAC,CAAC;IACJ,CAAC;CAAA;AAZD,+BAYC","sourcesContent":["import Teams from '../database/models/Teams';\nimport { ITeams } from '../interfaces/teams.interface';\n\nexport default class TeamsService {\n  public getAllTeams = async (): Promise<ITeams[]> => {\n    const teams = await Teams.findAll();\n\n    return teams;\n  };\n\n  public getTeamsById = async (id: number): Promise<ITeams | null> => {\n    const team: ITeams | null = await Teams.findByPk(id);\n\n    return team;\n  };\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b7d9f517b33cfb2e43182058ddc6283e875c37e6"},"/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/database/models/Teams.ts":{"path":"/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/database/models/Teams.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":20},"end":{"line":3,"column":40}},"2":{"start":{"line":4,"column":11},"end":{"line":4,"column":23}},"3":{"start":{"line":5,"column":18},"end":{"line":5,"column":38}},"4":{"start":{"line":8,"column":0},"end":{"line":24,"column":3}},"5":{"start":{"line":25,"column":0},"end":{"line":25,"column":79}},"6":{"start":{"line":26,"column":0},"end":{"line":26,"column":79}},"7":{"start":{"line":27,"column":0},"end":{"line":27,"column":81}},"8":{"start":{"line":28,"column":0},"end":{"line":28,"column":81}},"9":{"start":{"line":29,"column":0},"end":{"line":29,"column":24}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/database/models/Teams.ts","sources":["/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/database/models/Teams.ts"],"names":[],"mappings":";;AAAA,yCAAmD;AACnD,wBAAmB;AACnB,uCAAgC;AAEhC,MAAM,KAAM,SAAQ,iBAAK;CAGxB;AAED,KAAK,CAAC,IAAI,CAAC;IACT,EAAE,EAAE;QACF,IAAI,EAAE,mBAAO;QACb,UAAU,EAAE,IAAI;QAChB,SAAS,EAAE,KAAK;QAChB,aAAa,EAAE,IAAI;KACpB;IACD,QAAQ,EAAE;QACR,IAAI,EAAE,kBAAM;QACZ,SAAS,EAAE,KAAK;KACjB;CACF,EAAE;IACD,SAAS,EAAE,OAAO;IAClB,UAAU,EAAE,KAAK;IACjB,WAAW,EAAE,IAAI;IACjB,SAAS,EAAE,UAAE;CACd,CAAC,CAAC;AAEH,KAAK,CAAC,OAAO,CAAC,iBAAO,EAAE,EAAE,UAAU,EAAE,YAAY,EAAE,EAAE,EAAE,UAAU,EAAE,CAAC,CAAC;AACrE,KAAK,CAAC,OAAO,CAAC,iBAAO,EAAE,EAAE,UAAU,EAAE,YAAY,EAAE,EAAE,EAAE,UAAU,EAAE,CAAC,CAAC;AAErE,iBAAO,CAAC,SAAS,CAAC,KAAK,EAAE,EAAE,UAAU,EAAE,YAAY,EAAE,EAAE,EAAE,UAAU,EAAE,CAAC,CAAC;AACvE,iBAAO,CAAC,SAAS,CAAC,KAAK,EAAE,EAAE,UAAU,EAAE,YAAY,EAAE,EAAE,EAAE,UAAU,EAAE,CAAC,CAAC;AAEvE,kBAAe,KAAK,CAAC","sourcesContent":["import { Model, INTEGER, STRING } from 'sequelize';\nimport db from '.';\nimport Matches from './Matches';\n\nclass Teams extends Model {\n  declare id: number;\n  declare teamName: string;\n}\n\nTeams.init({\n  id: {\n    type: INTEGER,\n    primaryKey: true,\n    allowNull: false,\n    autoIncrement: true,\n  },\n  teamName: {\n    type: STRING,\n    allowNull: false,\n  },\n}, {\n  modelName: 'teams',\n  timestamps: false,\n  underscored: true,\n  sequelize: db,\n});\n\nTeams.hasMany(Matches, { foreignKey: 'homeTeamId', as: 'homeTeam' });\nTeams.hasMany(Matches, { foreignKey: 'awayTeamId', as: 'awayTeam' });\n\nMatches.belongsTo(Teams, { foreignKey: 'homeTeamId', as: 'homeTeam' });\nMatches.belongsTo(Teams, { foreignKey: 'awayTeamId', as: 'awayTeam' });\n\nexport default Teams;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"3b40fe7a3483372884867cee9e1383704b02dc76"},"/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/database/models/Matches.ts":{"path":"/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/database/models/Matches.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":20},"end":{"line":3,"column":40}},"2":{"start":{"line":4,"column":11},"end":{"line":4,"column":23}},"3":{"start":{"line":7,"column":0},"end":{"line":42,"column":3}},"4":{"start":{"line":43,"column":0},"end":{"line":43,"column":26}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/database/models/Matches.ts","sources":["/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/database/models/Matches.ts"],"names":[],"mappings":";;AAAA,yCAAoD;AACpD,wBAAmB;AAEnB,MAAM,OAAQ,SAAQ,iBAAK;CAO1B;AAED,OAAO,CAAC,IAAI,CAAC;IACX,EAAE,EAAE;QACF,IAAI,EAAE,mBAAO;QACb,SAAS,EAAE,KAAK;QAChB,UAAU,EAAE,IAAI;QAChB,aAAa,EAAE,IAAI;KACpB;IAED,UAAU,EAAE;QACV,IAAI,EAAE,mBAAO;QACb,SAAS,EAAE,KAAK;KACjB;IAED,aAAa,EAAE;QACb,IAAI,EAAE,mBAAO;QACb,SAAS,EAAE,KAAK;QAChB,YAAY,EAAE,CAAC;KAChB;IAED,UAAU,EAAE;QACV,IAAI,EAAE,mBAAO;QACb,SAAS,EAAE,KAAK;QAChB,YAAY,EAAE,CAAC;KAChB;IAED,aAAa,EAAE;QACb,IAAI,EAAE,mBAAO;QACb,SAAS,EAAE,KAAK;QAChB,YAAY,EAAE,CAAC;KAChB;IAED,UAAU,EAAE;QACV,IAAI,EAAE,mBAAO;QACb,SAAS,EAAE,KAAK;KACjB;CAEF,EAAE;IACD,SAAS,EAAE,SAAS;IACpB,UAAU,EAAE,KAAK;IACjB,WAAW,EAAE,IAAI;IACjB,SAAS,EAAE,UAAE;CACd,CAAC,CAAC;AAEH,kBAAe,OAAO,CAAC","sourcesContent":["import { Model, INTEGER, BOOLEAN } from 'sequelize';\nimport db from '.';\n\nclass Matches extends Model {\n  declare id: number;\n  declare homeTeamId: number;\n  declare homeTeamGoals: number;\n  declare awayTeamId: number;\n  declare awayTeamGoals: number;\n  declare inProgress: boolean;\n}\n\nMatches.init({\n  id: {\n    type: INTEGER,\n    allowNull: false,\n    primaryKey: true,\n    autoIncrement: true,\n  },\n\n  homeTeamId: {\n    type: INTEGER,\n    allowNull: false,\n  },\n\n  homeTeamGoals: {\n    type: INTEGER,\n    allowNull: false,\n    defaultValue: 0,\n  },\n\n  awayTeamId: {\n    type: INTEGER,\n    allowNull: false,\n    defaultValue: 0,\n  },\n\n  awayTeamGoals: {\n    type: INTEGER,\n    allowNull: false,\n    defaultValue: 0,\n  },\n\n  inProgress: {\n    type: BOOLEAN,\n    allowNull: false,\n  },\n\n}, {\n  modelName: 'matches',\n  timestamps: false,\n  underscored: true,\n  sequelize: db,\n});\n\nexport default Matches;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"e1a224843c848ab0d3284b3a80ddde84061a6502"},"/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/routes/macthes.route.ts":{"path":"/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/routes/macthes.route.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":16},"end":{"line":3,"column":34}},"2":{"start":{"line":4,"column":29},"end":{"line":4,"column":73}},"3":{"start":{"line":5,"column":27},"end":{"line":5,"column":69}},"4":{"start":{"line":6,"column":25},"end":{"line":6,"column":65}},"5":{"start":{"line":7,"column":15},"end":{"line":7,"column":31}},"6":{"start":{"line":8,"column":24},"end":{"line":8,"column":58}},"7":{"start":{"line":9,"column":22},"end":{"line":9,"column":52}},"8":{"start":{"line":10,"column":24},"end":{"line":10,"column":56}},"9":{"start":{"line":11,"column":0},"end":{"line":11,"column":158}},"10":{"start":{"line":12,"column":0},"end":{"line":12,"column":40}},"11":{"start":{"line":13,"column":0},"end":{"line":13,"column":57}},"12":{"start":{"line":14,"column":0},"end":{"line":14,"column":50}},"13":{"start":{"line":15,"column":0},"end":{"line":15,"column":25}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/routes/macthes.route.ts","sources":["/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/routes/macthes.route.ts"],"names":[],"mappings":";;AAAA,mCAAmC;AACnC,0EAAkE;AAClE,sEAA8D;AAC9D,kEAA0D;AAE1D,MAAM,MAAM,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC;AAChC,MAAM,eAAe,GAAG,IAAI,4BAAiB,EAAE,CAAC;AAChD,MAAM,aAAa,GAAG,IAAI,wBAAa,EAAE,CAAC;AAC1C,MAAM,eAAe,GAAG,IAAI,0BAAe,EAAE,CAAC;AAE9C,MAAM,CAAC,IAAI,CACT,GAAG,EACH,eAAe,CAAC,wBAAwB,EACxC,eAAe,CAAC,oBAAoB,EACpC,aAAa,CAAC,aAAa,EAC3B,eAAe,CAAC,cAAc,CAC/B,CAAC;AAEF,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE,eAAe,CAAC,MAAM,CAAC,CAAC;AAExC,MAAM,CAAC,KAAK,CAAC,aAAa,EAAE,eAAe,CAAC,WAAW,CAAC,CAAC;AAEzD,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,eAAe,CAAC,WAAW,CAAC,CAAC;AAElD,kBAAe,MAAM,CAAC","sourcesContent":["import * as express from 'express';\nimport MatchesController from '../controllers/matches.controller';\nimport ValidateMatches from '../middlewares/matches.validate';\nimport ValidateLogin from '../middlewares/login.validate';\n\nconst router = express.Router();\nconst matchController = new MatchesController();\nconst validateLogin = new ValidateLogin();\nconst validateMatches = new ValidateMatches();\n\nrouter.post(\n  '/',\n  validateMatches.validationIdenticalTeams,\n  validateMatches.validationExistTeams,\n  validateLogin.validateToken,\n  matchController.createNewMatch,\n);\n\nrouter.get('/', matchController.getAll);\n\nrouter.patch('/:id/finish', matchController.finishMatch);\n\nrouter.patch('/:id', matchController.editedMatch);\n\nexport default router;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"586bd66c70cb1566a44c4a67690dc46cb47daa9f"},"/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/controllers/matches.controller.ts":{"path":"/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/controllers/matches.controller.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":26},"end":{"line":3,"column":64}},"2":{"start":{"line":6,"column":8},"end":{"line":12,"column":10}},"3":{"start":{"line":7,"column":35},"end":{"line":7,"column":44}},"4":{"start":{"line":8,"column":28},"end":{"line":8,"column":75}},"5":{"start":{"line":9,"column":36},"end":{"line":10,"column":54}},"6":{"start":{"line":9,"column":61},"end":{"line":10,"column":53}},"7":{"start":{"line":11,"column":12},"end":{"line":11,"column":50}},"8":{"start":{"line":13,"column":8},"end":{"line":17,"column":10}},"9":{"start":{"line":14,"column":26},"end":{"line":14,"column":34}},"10":{"start":{"line":15,"column":26},"end":{"line":15,"column":70}},"11":{"start":{"line":16,"column":12},"end":{"line":16,"column":47}},"12":{"start":{"line":18,"column":8},"end":{"line":22,"column":10}},"13":{"start":{"line":19,"column":27},"end":{"line":19,"column":37}},"14":{"start":{"line":20,"column":12},"end":{"line":20,"column":62}},"15":{"start":{"line":21,"column":12},"end":{"line":21,"column":65}},"16":{"start":{"line":23,"column":8},"end":{"line":28,"column":10}},"17":{"start":{"line":24,"column":27},"end":{"line":24,"column":37}},"18":{"start":{"line":25,"column":26},"end":{"line":25,"column":34}},"19":{"start":{"line":26,"column":12},"end":{"line":26,"column":69}},"20":{"start":{"line":27,"column":12},"end":{"line":27,"column":63}},"21":{"start":{"line":29,"column":8},"end":{"line":29,"column":62}},"22":{"start":{"line":32,"column":0},"end":{"line":32,"column":36}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":4},"end":{"line":5,"column":5}},"loc":{"start":{"line":5,"column":18},"end":{"line":30,"column":5}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":6,"column":22},"end":{"line":6,"column":23}},"loc":{"start":{"line":6,"column":42},"end":{"line":12,"column":9}},"line":6},"2":{"name":"(anonymous_2)","decl":{"start":{"line":9,"column":51},"end":{"line":9,"column":52}},"loc":{"start":{"line":9,"column":61},"end":{"line":10,"column":53}},"line":9},"3":{"name":"(anonymous_3)","decl":{"start":{"line":13,"column":30},"end":{"line":13,"column":31}},"loc":{"start":{"line":13,"column":50},"end":{"line":17,"column":9}},"line":13},"4":{"name":"(anonymous_4)","decl":{"start":{"line":18,"column":27},"end":{"line":18,"column":28}},"loc":{"start":{"line":18,"column":47},"end":{"line":22,"column":9}},"line":18},"5":{"name":"(anonymous_5)","decl":{"start":{"line":23,"column":27},"end":{"line":23,"column":28}},"loc":{"start":{"line":23,"column":47},"end":{"line":28,"column":9}},"line":23}},"branchMap":{"0":{"loc":{"start":{"line":9,"column":61},"end":{"line":10,"column":53}},"type":"binary-expr","locations":[{"start":{"line":9,"column":61},"end":{"line":9,"column":85}},{"start":{"line":9,"column":89},"end":{"line":10,"column":53}}],"line":9}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":3,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1},"f":{"0":1,"1":1,"2":3,"3":1,"4":1,"5":1},"b":{"0":[3,0]},"inputSourceMap":{"version":3,"file":"/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/controllers/matches.controller.ts","sources":["/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/controllers/matches.controller.ts"],"names":[],"mappings":";;AACA,iEAAyD;AAEzD,MAAqB,iBAAiB;IAGpC;QAIO,WAAM,GAAG,KAAK,EAAE,GAAY,EAAE,GAAa,EAAiB,EAAE;YACnE,MAAM,EAAE,UAAU,EAAE,GAAG,GAAG,CAAC,KAAK,CAAC;YAEjC,MAAM,OAAO,GAAG,MAAM,yBAAc,CAAC,aAAa,EAAE,CAAC;YAErD,MAAM,eAAe,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,UAAU,KAAK,SAAS,IAAI,IAAI;iBAC9E,UAAU,CAAC,QAAQ,EAAE,KAAK,UAAU,CAAC,CAAC;YAEzC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;QACxC,CAAC,CAAC;QAEK,mBAAc,GAAG,KAAK,EAAE,GAAY,EAAE,GAAa,EAAE,EAAE;YAC5D,MAAM,KAAK,GAAG,GAAG,CAAC,IAAI,CAAC;YACvB,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;YAE3D,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QACrC,CAAC,CAAC;QAEK,gBAAW,GAAG,KAAK,EAAE,GAAY,EAAE,GAAa,EAA4B,EAAE;YACnF,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC;YAE1B,MAAM,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC;YAElD,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,CAAC,CAAC;QACvD,CAAC,CAAC;QAEK,gBAAW,GAAG,KAAK,EAAE,GAAY,EAAE,GAAa,EAA4B,EAAE;YACnF,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,CAAC,MAAM,CAAC;YAC1B,MAAM,KAAK,GAAG,GAAG,CAAC,IAAI,CAAC;YAEvB,MAAM,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC;YAEzD,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,QAAQ,EAAE,CAAC,CAAC;QACrD,CAAC,CAAC;QApCA,IAAI,CAAC,cAAc,GAAG,IAAI,yBAAc,EAAE,CAAC;IAC7C,CAAC;CAoCF;AAzCD,oCAyCC","sourcesContent":["import { Request, Response } from 'express';\nimport MatchesService from '../services/matches.service';\n\nexport default class MatchesController {\n  public matchesService: MatchesService;\n\n  constructor() {\n    this.matchesService = new MatchesService();\n  }\n\n  public getAll = async (req: Request, res: Response): Promise<void> => {\n    const { inProgress } = req.query;\n\n    const matches = await MatchesService.getAllMatches();\n\n    const matchesFiltered = matches.filter((mact) => inProgress === undefined || mact\n      .inProgress.toString() === inProgress);\n\n    res.status(200).json(matchesFiltered);\n  };\n\n  public createNewMatch = async (req: Request, res: Response) => {\n    const dados = req.body;\n    const match = await this.matchesService.createMatch(dados);\n\n    return res.status(201).json(match);\n  };\n\n  public finishMatch = async (req: Request, res: Response): Promise<void | Response> => {\n    const { id } = req.params;\n\n    await this.matchesService.finishMatch(Number(id));\n\n    return res.status(200).json({ message: 'Finished' });\n  };\n\n  public editedMatch = async (req: Request, res: Response): Promise<void | Response> => {\n    const { id } = req.params;\n    const match = req.body;\n\n    await this.matchesService.editedMatch(Number(id), match);\n\n    return res.status(200).json({ message: 'Edited' });\n  };\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2e59781f3426544789036c525497b240ac0d9672"},"/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/services/matches.service.ts":{"path":"/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/services/matches.service.ts","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":3,"column":62}},"1":{"start":{"line":4,"column":18},"end":{"line":4,"column":55}},"2":{"start":{"line":5,"column":16},"end":{"line":5,"column":51}},"3":{"start":{"line":8,"column":8},"end":{"line":11,"column":10}},"4":{"start":{"line":9,"column":28},"end":{"line":9,"column":90}},"5":{"start":{"line":10,"column":12},"end":{"line":10,"column":27}},"6":{"start":{"line":12,"column":8},"end":{"line":14,"column":10}},"7":{"start":{"line":13,"column":12},"end":{"line":13,"column":85}},"8":{"start":{"line":15,"column":8},"end":{"line":17,"column":10}},"9":{"start":{"line":16,"column":12},"end":{"line":16,"column":75}},"10":{"start":{"line":20,"column":0},"end":{"line":20,"column":33}},"11":{"start":{"line":21,"column":0},"end":{"line":21,"column":20}},"12":{"start":{"line":22,"column":0},"end":{"line":38,"column":2}},"13":{"start":{"line":23,"column":20},"end":{"line":36,"column":6}},"14":{"start":{"line":37,"column":4},"end":{"line":37,"column":19}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":7,"column":4},"end":{"line":7,"column":5}},"loc":{"start":{"line":7,"column":18},"end":{"line":18,"column":5}},"line":7},"1":{"name":"(anonymous_1)","decl":{"start":{"line":8,"column":27},"end":{"line":8,"column":28}},"loc":{"start":{"line":8,"column":44},"end":{"line":11,"column":9}},"line":8},"2":{"name":"(anonymous_2)","decl":{"start":{"line":12,"column":27},"end":{"line":12,"column":28}},"loc":{"start":{"line":12,"column":41},"end":{"line":14,"column":9}},"line":12},"3":{"name":"(anonymous_3)","decl":{"start":{"line":15,"column":27},"end":{"line":15,"column":28}},"loc":{"start":{"line":15,"column":47},"end":{"line":17,"column":9}},"line":15},"4":{"name":"(anonymous_4)","decl":{"start":{"line":22,"column":31},"end":{"line":22,"column":32}},"loc":{"start":{"line":22,"column":43},"end":{"line":38,"column":1}},"line":22}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1},"f":{"0":1,"1":1,"2":1,"3":1,"4":1},"b":{},"inputSourceMap":{"version":3,"file":"/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/services/matches.service.ts","sources":["/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/services/matches.service.ts"],"names":[],"mappings":";;;AAAA,wDAAiD;AACjD,oDAA6C;AAG7C,MAAqB,cAAc;IAAnC;QAoBS,gBAAW,GAAG,KAAK,EAAE,KAAiB,EAAE,EAAE;YAC/C,MAAM,OAAO,GAAG,MAAM,iBAAO,CAAC,MAAM,CAAC,EAAE,GAAG,KAAK,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC,CAAC;YAErE,OAAO,OAAO,CAAC;QACjB,CAAC,CAAC;QAEK,gBAAW,GAAG,KAAK,EAAE,EAAU,EAAiB,EAAE;YACvD,MAAM,iBAAO,CAAC,MAAM,CAAC,EAAE,UAAU,EAAE,KAAK,EAAE,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;QACjE,CAAC,CAAC;QAEK,gBAAW,GAAG,KAAK,EAAE,EAAU,EAAE,IAAqB,EAAiB,EAAE;YAC9E,MAAM,iBAAO,CAAC,MAAM,CAAC,EAAE,GAAG,IAAI,EAAE,EAAE,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;QACvD,CAAC,CAAC;IACJ,CAAC;;AAjCD,iCAiCC;;AAhCe,4BAAa,GAAG,KAAK,IAAwB,EAAE;IAC3D,MAAM,OAAO,GAAG,MAAM,iBAAO,CAAC,OAAO,CAAC;QACpC,OAAO,EAAE;YACP;gBACE,KAAK,EAAE,eAAK;gBACZ,EAAE,EAAE,UAAU;gBACd,UAAU,EAAE,CAAC,UAAU,CAAC;aACzB;YACD;gBACE,KAAK,EAAE,eAAK;gBACZ,EAAE,EAAE,UAAU;gBACd,UAAU,EAAE,CAAC,UAAU,CAAC;aACzB;SACF;KACF,CAAC,CAAC;IAEH,OAAO,OAAO,CAAC;AACjB,CAAE,CAAA","sourcesContent":["import Matches from '../database/models/Matches';\nimport Teams from '../database/models/Teams';\nimport { IFullMatch, IMatch } from '../interfaces/matches.interface';\n\nexport default class MatchesService {\n  public static getAllMatches = async (): Promise<Matches[]> => {\n    const matches = await Matches.findAll({\n      include: [\n        {\n          model: Teams,\n          as: 'homeTeam',\n          attributes: ['teamName'],\n        },\n        {\n          model: Teams,\n          as: 'awayTeam',\n          attributes: ['teamName'],\n        },\n      ],\n    });\n\n    return matches;\n  };\n\n  public createMatch = async (dados: IFullMatch) => {\n    const matches = await Matches.create({ ...dados, inProgress: true });\n\n    return matches;\n  };\n\n  public finishMatch = async (id: number): Promise<void> => {\n    await Matches.update({ inProgress: false }, { where: { id } });\n  };\n\n  public editedMatch = async (id: number, data: Partial<IMatch>): Promise<void> => {\n    await Matches.update({ ...data }, { where: { id } });\n  };\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"17967e8e491aa4526fa2f5fd0153aecc0d271338"},"/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/middlewares/matches.validate.ts":{"path":"/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/middlewares/matches.validate.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":4,"column":24},"end":{"line":4,"column":60}},"2":{"start":{"line":7,"column":8},"end":{"line":14,"column":10}},"3":{"start":{"line":8,"column":47},"end":{"line":8,"column":55}},"4":{"start":{"line":9,"column":12},"end":{"line":12,"column":13}},"5":{"start":{"line":10,"column":16},"end":{"line":11,"column":100}},"6":{"start":{"line":13,"column":12},"end":{"line":13,"column":26}},"7":{"start":{"line":15,"column":8},"end":{"line":23,"column":10}},"8":{"start":{"line":16,"column":47},"end":{"line":16,"column":55}},"9":{"start":{"line":17,"column":29},"end":{"line":17,"column":77}},"10":{"start":{"line":18,"column":29},"end":{"line":18,"column":77}},"11":{"start":{"line":19,"column":12},"end":{"line":21,"column":13}},"12":{"start":{"line":20,"column":16},"end":{"line":20,"column":91}},"13":{"start":{"line":22,"column":12},"end":{"line":22,"column":26}},"14":{"start":{"line":25,"column":8},"end":{"line":25,"column":58}},"15":{"start":{"line":28,"column":0},"end":{"line":28,"column":32}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":6,"column":4},"end":{"line":6,"column":5}},"loc":{"start":{"line":6,"column":18},"end":{"line":26,"column":5}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":7,"column":40},"end":{"line":7,"column":41}},"loc":{"start":{"line":7,"column":66},"end":{"line":14,"column":9}},"line":7},"2":{"name":"(anonymous_2)","decl":{"start":{"line":15,"column":36},"end":{"line":15,"column":37}},"loc":{"start":{"line":15,"column":62},"end":{"line":23,"column":9}},"line":15}},"branchMap":{"0":{"loc":{"start":{"line":9,"column":12},"end":{"line":12,"column":13}},"type":"if","locations":[{"start":{"line":9,"column":12},"end":{"line":12,"column":13}},{"start":{"line":9,"column":12},"end":{"line":12,"column":13}}],"line":9},"1":{"loc":{"start":{"line":19,"column":12},"end":{"line":21,"column":13}},"type":"if","locations":[{"start":{"line":19,"column":12},"end":{"line":21,"column":13}},{"start":{"line":19,"column":12},"end":{"line":21,"column":13}}],"line":19},"2":{"loc":{"start":{"line":19,"column":16},"end":{"line":19,"column":38}},"type":"binary-expr","locations":[{"start":{"line":19,"column":16},"end":{"line":19,"column":25}},{"start":{"line":19,"column":29},"end":{"line":19,"column":38}}],"line":19}},"s":{"0":1,"1":1,"2":1,"3":4,"4":4,"5":1,"6":3,"7":1,"8":3,"9":3,"10":3,"11":3,"12":1,"13":2,"14":1,"15":1},"f":{"0":1,"1":4,"2":3},"b":{"0":[1,3],"1":[1,2],"2":[3,2]},"inputSourceMap":{"version":3,"file":"/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/middlewares/matches.validate.ts","sources":["/home/lucas/Projetos-Trybe/Back-End/sd-023-a-trybe-futebol-clube/app/backend/src/middlewares/matches.validate.ts"],"names":[],"mappings":";;AACA,4DAA4D;AAC5D,6DAAqD;AAErD,MAAqB,aAAa;IAIhC;QAKO,6BAAwB,GAAG,KAAK,EAAE,GAAY,EAAE,GAAa,EAAE,IAAkB,EAAE,EAAE;YAC1F,MAAM,EAAE,UAAU,EAAE,UAAU,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;YAE5C,IAAI,UAAU,KAAK,UAAU,EAAE;gBAC7B,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC;qBACnB,IAAI,CAAC,EAAE,OAAO,EAAE,2DAA2D,EAAE,CAAC,CAAC;aACnF;YAED,OAAO,IAAI,EAAE,CAAC;QAChB,CAAC,CAAC;QAEK,yBAAoB,GAAG,KAAK,EAAE,GAAY,EAAE,GAAa,EAAE,IAAkB,EAAE,EAAE;YACtF,MAAM,EAAE,UAAU,EAAE,UAAU,EAAE,GAAG,GAAG,CAAC,IAAI,CAAC;YAE5C,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC;YAClE,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,YAAY,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC;YAElE,IAAI,CAAC,QAAQ,IAAI,CAAC,QAAQ,EAAE;gBAC1B,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,gCAAgC,EAAE,CAAC,CAAC;aAC5E;YAED,OAAO,IAAI,EAAE,CAAC;QAChB,CAAC,CAAC;QA1BA,8CAA8C;QAC9C,IAAI,CAAC,YAAY,GAAG,IAAI,uBAAY,EAAE,CAAC;IACzC,CAAC;CAyBF;AAhCD,gCAgCC","sourcesContent":["import { Request, Response, NextFunction } from 'express';\n// import MatchesService from '../services/matches.service';\nimport TeamsService from '../services/teams.service';\n\nexport default class ValidadeMatch {\n  // private matchesService: MatchesService;\n  private teamsService: TeamsService;\n\n  constructor() {\n    // this.matchesService = new MatchesService();\n    this.teamsService = new TeamsService();\n  }\n\n  public validationIdenticalTeams = async (req: Request, res: Response, next: NextFunction) => {\n    const { homeTeamId, awayTeamId } = req.body;\n\n    if (homeTeamId === awayTeamId) {\n      return res.status(422)\n        .json({ message: 'It is not possible to create a match with two equal teams' });\n    }\n\n    return next();\n  };\n\n  public validationExistTeams = async (req: Request, res: Response, next: NextFunction) => {\n    const { homeTeamId, awayTeamId } = req.body;\n\n    const homeTeam = await this.teamsService.getTeamsById(homeTeamId);\n    const awayTeam = await this.teamsService.getTeamsById(awayTeamId);\n\n    if (!homeTeam || !awayTeam) {\n      return res.status(404).json({ message: 'There is no team with such id!' });\n    }\n\n    return next();\n  };\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"1d52a369a4e2853573f8f94371f9cbe0a15d1e92"}}